@model List<ExperienciasProyecto.Models.CarritoItem>

@{
    ViewBag.Title = "Carrito de Compras";
}

<style>
    body {
        background-color: #1b1b1b;
        color: #fff;
        font-family: 'Segoe UI', sans-serif;
    }

    h2 {
        text-align: center;
        margin: 30px 0;
        color: #00adee;
    }

    .table-dark {
        background-color: #2a2a2a;
        color: #fff;
    }

        .table-dark th {
            background-color: #333;
        }

    .btn-steam {
        background-color: #00adee;
        color: white;
        padding: 10px 25px;
        border: none;
        border-radius: 5px;
        transition: background-color 0.3s ease;
        margin-right: 10px;
    }

        .btn-steam:hover {
            background-color: #008ecf;
        }

    .btn-secondary-steam {
        background-color: #444;
        color: white;
        padding: 10px 25px;
        border: none;
        border-radius: 5px;
        text-decoration: none;
    }

        .btn-secondary-steam:hover {
            background-color: #666;
        }

    .table img {
        border-radius: 5px;
        box-shadow: 0 0 5px rgba(0,0,0,0.3);
    }

    .actions {
        text-align: center;
        margin-top: 30px;
    }
</style>

<h2>🛒 Tu Carrito</h2>

@if (Model.Count == 0)
{
    <div class="text-center">
        <p>No hay productos en el carrito.</p>
        <a href="@Url.Action("Index", "Juego")" class="btn-steam">🎮 Seguir Comprando</a>
    </div>
}
else
{
    <div class="container">
        <table class="table table-dark table-striped table-hover">
            <thead>
                <tr>
                    <th style="width: 120px;">Imagen</th>
                    <th>Juego</th>
                    <th>Precio</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            <img src="@item.IMAGEN_URL" alt="@item.NOMBRE" style="width: 100px; height: 60px; object-fit: cover;" />
                        </td>
                        <td>@item.NOMBRE</td>
                        <td>@item.PRECIO.ToString("C")</td>

                        <td style="text-align:center;">
                            @Html.ActionLink("❌ Quitar", "QuitarDelCarrito", "Compra", new { id = item.ID_JUEGO }, new { @class = "btn btn-danger btn-sm" })
                        </td>

                    </tr>
                }
            </tbody>

        </table>

        <div class="actions">
            <form method="post" action="@Url.Action("Comprar")" style="display: inline;">
                <button type="submit" class="btn-steam">✅ Finalizar Compra</button>
            </form>

            <a href="@Url.Action("Index", "Juego")" class="btn-secondary-steam">🎮 Seguir Comprando</a>
        </div>
    </div>
}
